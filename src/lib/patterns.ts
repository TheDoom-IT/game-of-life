import type { BoardType } from "./board";

export interface Pattern {
  name: string;
  cells: BoardType;
}

export interface PatternsGroup {
  name: string;
  patterns: Pattern[];
}

export const rotatePattern = (patternCells: BoardType): BoardType => {
  const rows = patternCells.length;
  const columns = patternCells[0].length;

  const result = [];
  for (let i = 0; i < columns; i++) {
    const row = [];
    for (let j = rows - 1; j >= 0; j--) {
      row.push(patternCells[j][i]);
    }
    result.push(row);
  }
  return result;
};

export const patterns: PatternsGroup[] = [
  {
    name: "Static",
    patterns: [
      {
        name: "Square",
        cells: [
          [1, 1],
          [1, 1],
        ],
      },
      {
        name: "Loaf",
        cells: [
          [0, 1, 1, 0],
          [1, 0, 0, 1],
          [1, 0, 1, 0],
          [0, 1, 0, 0],
        ],
      },
      {
        name: "Beehive",
        cells: [
          [0, 1, 0],
          [1, 0, 1],
          [1, 0, 1],
          [0, 1, 0],
        ],
      },
    ],
  },
  {
    name: "Oscillators",
    patterns: [
      {
        name: "Blinker",
        cells: [[1], [1], [1]],
      },
      {
        name: "Frog",
        cells: [
          [0, 1, 1, 0],
          [1, 0, 0, 0],
          [0, 0, 0, 1],
          [0, 1, 1, 0],
        ],
      },
      {
        name: "Pulsar",
        cells: [
          [0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
          [1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1],
          [1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1],
          [1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1],
          [0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0],
          [1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1],
          [1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1],
          [1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1],
          [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0],
        ],
      },
    ],
  },
  {
    name: "Spaceships",
    patterns: [
      {
        name: "Glider",
        cells: [
          [0, 0, 1],
          [1, 0, 1],
          [0, 1, 1],
        ],
      },
      {
        name: "Dakota",
        cells: [
          [0, 1, 0, 0, 1],
          [1, 0, 0, 0, 0],
          [1, 0, 0, 0, 1],
          [1, 1, 1, 1, 0],
        ],
      },
    ],
  },
  {
    name: "Guns",
    patterns: [
      {
        name: "Gosper Glider Gun",
        cells: [
          [0, 0, 0, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 1, 1, 1, 0, 0, 0, 0],
          [0, 1, 0, 0, 0, 1, 0, 0, 0],
          [1, 0, 0, 0, 0, 0, 1, 0, 0],
          [1, 0, 0, 0, 0, 0, 1, 0, 0],
          [0, 0, 0, 1, 0, 0, 0, 0, 0],
          [0, 1, 0, 0, 0, 1, 0, 0, 0],
          [0, 0, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 0, 0],
          [0, 0, 0, 1, 0, 0, 0, 1, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 1, 1, 0, 0, 0, 1, 1],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 0, 0],
        ],
      },
    ],
  },
];
